{"ast":null,"code":"import _toConsumableArray from \"/Users/SHAWN/Downloads/SpotShare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nvar _jsxFileName = \"/Users/SHAWN/Downloads/SpotShare/src/components/Navigation/NavigationItems/NavigationItems.js\";\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { Dropdown } from 'react-bootstrap';\nimport './NavigationItems.css';\nvar navItems = [{\n  id: 'feed',\n  text: 'Feed',\n  link: '/',\n  auth: true\n}, {\n  id: 'my-profile',\n  text: 'My Profile',\n  link: '/posts',\n  auth: true\n}, {\n  id: 'my-bucket',\n  text: 'My Bucket',\n  link: '/my-bucket',\n  auth: true\n}, {\n  id: 'my-map',\n  text: 'My Map',\n  link: '/my-map',\n  auth: true\n}, {\n  id: 'login',\n  text: 'Login',\n  link: '/',\n  auth: false\n}, {\n  id: 'signup',\n  text: 'Signup',\n  link: '/signup',\n  auth: false\n}];\n\nfunction getUserName(userId, token, isLoading) {\n  console.log(userId);\n  console.log(isLoading);\n\n  if (isLoading) {\n    return 'Welcome';\n  } else {\n    fetch('http://localhost:8080/auth/user/' + userId, {\n      method: 'GET',\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then(function (res) {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Fetching user name failed!');\n      }\n\n      return res.json();\n    }).then(function (resData) {\n      console.log(resData.userObj.name);\n      return resData.userObj.name;\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }\n}\n\nvar navigationItems = function navigationItems(props) {\n  return [].concat(_toConsumableArray(navItems.filter(function (item) {\n    return item.auth === props.isAuth;\n  }).map(function (item) {\n    return React.createElement(\"li\", {\n      key: item.id,\n      className: ['navigation-item', props.mobile ? 'mobile' : ''].join(' '),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: item.link,\n      exact: true,\n      onClick: props.onChoose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, item.text));\n  })), [props.isAuth && props.userId && React.createElement(\"li\", {\n    className: \"navigation-item\",\n    key: \"logout\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(Dropdown, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(Dropdown.Toggle, {\n    variant: \"Warning\",\n    id: \"dropdown-basic\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, getUserName(props.userId, props.token, props.isLoading)), React.createElement(Dropdown.Menu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(Dropdown.Item, {\n    style: {\n      color: \"purple\"\n    },\n    onClick: props.onLogout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Logout\"))))]);\n};\n\nexport default navigationItems;","map":{"version":3,"sources":["/Users/SHAWN/Downloads/SpotShare/src/components/Navigation/NavigationItems/NavigationItems.js"],"names":["React","NavLink","Dropdown","navItems","id","text","link","auth","getUserName","userId","token","isLoading","console","log","fetch","method","headers","Authorization","then","res","status","Error","json","resData","userObj","name","catch","err","navigationItems","props","filter","item","isAuth","map","mobile","join","onChoose","color","onLogout"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport {Dropdown} from 'react-bootstrap';\n\nimport './NavigationItems.css';\n\nconst navItems = [\n  { id: 'feed', text: 'Feed', link: '/', auth: true },\n  { id: 'my-profile', text: 'My Profile', link: '/posts', auth: true},\n  { id: 'my-bucket', text: 'My Bucket', link: '/my-bucket', auth: true},\n  { id: 'my-map', text: 'My Map', link: '/my-map', auth: true},\n  { id: 'login', text: 'Login', link: '/', auth: false },\n  { id: 'signup', text: 'Signup', link: '/signup', auth: false }\n];\n\nfunction getUserName (userId, token, isLoading) {\n  console.log(userId);\n  console.log(isLoading);\n  if (isLoading){\n    return 'Welcome';\n  }else{\n  fetch('http://localhost:8080/auth/user/' + userId, {\n      method: 'GET',\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Fetching user name failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      console.log(resData.userObj.name);\n      return resData.userObj.name;\n    })\n    .catch(err => {\n      console.log(err);\n    });\n  }\n}\n\n\nconst navigationItems = props => [\n  ...navItems.filter(item => item.auth === props.isAuth).map(item => (\n    <li\n      key={item.id}\n      className={['navigation-item', props.mobile ? 'mobile' : ''].join(' ')}\n    >\n      <NavLink to={item.link} exact onClick={props.onChoose}>\n        {item.text}\n      </NavLink>\n    </li>\n  )),\n  props.isAuth && props.userId && (\n    <li className=\"navigation-item\" key=\"logout\">\n      <Dropdown>\n        <Dropdown.Toggle variant=\"Warning\" id=\"dropdown-basic\">\n          {getUserName(props.userId, props.token, props.isLoading)}\n        </Dropdown.Toggle>\n        <Dropdown.Menu>\n          <Dropdown.Item \n            style={{color: \"purple\"}} \n            onClick={props.onLogout}>\n            Logout\n          </Dropdown.Item>\n        </Dropdown.Menu>\n      </Dropdown>\n      \n    </li>\n  )\n];\n\nexport default navigationItems;\n"]},"metadata":{},"sourceType":"module"}